<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="mStats">
<title>Working with Duplicate Observations using `tag_duplicates` • mStats</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with Duplicate Observations using `tag_duplicates`">
<meta property="og:description" content="mStats">
<meta property="og:image" content="https://myominnoo.github.io/mStats/, https://github.com/myominnoo/mStats/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mStats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/codebook.html">Data insights with `codebook`</a>
    <a class="dropdown-item" href="../articles/cut.html">Enhanced Numeric Data Categorization with cut</a>
    <a class="dropdown-item" href="../articles/egen.html">Convert a continuous variable into groups</a>
    <a class="dropdown-item" href="../articles/tag_duplicates.html">Working with Duplicate Observations using `tag_duplicates`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Working with Duplicate Observations using `tag_duplicates`</h1>
            
      
      
      <div class="d-none name"><code>tag_duplicates.Rmd</code></div>
    </div>

    
    
<p>This tutorial provides an overview and detailed usage examples for
the <code>tag_duplicates</code> function in the <code>mStats</code>
package. It is designed to identify and tag duplicate observations based
on specified variables. It mimics the functionality of
<code>Stata</code>’s duplicates command in R. It provides a report of
duplicates and creates a tibble with three columns: <code>.n_</code>,
<code>.N_</code>, and <code>.dup_</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://myominnoo.github.io/mStats/" class="external-link">mStats</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'mStats'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     append, cut</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="co"># Example with a custom dataset</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Identify and tag duplicates based on the x variable</span></span>
<span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">x</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1            2       0</span></span>
<span><span class="co">#&gt;       2            6       3</span></span>
<span><span class="co">#&gt;   x y .n_ .N_ .dup_</span></span>
<span><span class="co">#&gt; 1 1 a   1   2 FALSE</span></span>
<span><span class="co">#&gt; 2 1 b   2   2  TRUE</span></span>
<span><span class="co">#&gt; 3 2 c   1   2 FALSE</span></span>
<span><span class="co">#&gt; 4 2 d   2   2  TRUE</span></span>
<span><span class="co">#&gt; 5 3 e   1   1 FALSE</span></span>
<span><span class="co">#&gt; 6 4 f   1   2 FALSE</span></span>
<span><span class="co">#&gt; 7 4 g   2   2  TRUE</span></span>
<span><span class="co">#&gt; 8 5 h   1   1 FALSE</span></span>
<span></span>
<span><span class="co"># Identify and tag duplicates based on multiple variables</span></span>
<span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">x</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1            8       0</span></span>
<span><span class="co">#&gt;   x y .n_ .N_ .dup_</span></span>
<span><span class="co">#&gt; 1 1 a   1   1 FALSE</span></span>
<span><span class="co">#&gt; 2 1 b   1   1 FALSE</span></span>
<span><span class="co">#&gt; 3 2 c   1   1 FALSE</span></span>
<span><span class="co">#&gt; 4 2 d   1   1 FALSE</span></span>
<span><span class="co">#&gt; 5 3 e   1   1 FALSE</span></span>
<span><span class="co">#&gt; 6 4 f   1   1 FALSE</span></span>
<span><span class="co">#&gt; 7 4 g   1   1 FALSE</span></span>
<span><span class="co">#&gt; 8 5 h   1   1 FALSE</span></span>
<span></span>
<span><span class="co"># Identify and tag duplicates based on all variables</span></span>
<span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">all variables</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1            8       0</span></span>
<span><span class="co">#&gt;   x y .n_ .N_ .dup_</span></span>
<span><span class="co">#&gt; 1 1 a   1   1 FALSE</span></span>
<span><span class="co">#&gt; 2 1 b   1   1 FALSE</span></span>
<span><span class="co">#&gt; 3 2 c   1   1 FALSE</span></span>
<span><span class="co">#&gt; 4 2 d   1   1 FALSE</span></span>
<span><span class="co">#&gt; 5 3 e   1   1 FALSE</span></span>
<span><span class="co">#&gt; 6 4 f   1   1 FALSE</span></span>
<span><span class="co">#&gt; 7 4 g   1   1 FALSE</span></span>
<span><span class="co">#&gt; 8 5 h   1   1 FALSE</span></span></code></pre></div>
<p>In the examples above, we use the <code>tag_duplicates</code>
function to identify and tag duplicates in the data dataframe. We can
specify one or multiple variables to check for duplicates. By using
everything(), we can check for duplicates based on all variables in the
dataframe.</p>
<p>The function provides a concise report, showing the number of
duplicates and surplus observations for each group of variables. The
<code>.dup_</code> column indicates whether an observation is a
duplicate or not.</p>
<div class="section level2">
<h2 id="report-of-duplicates">Report of duplicates<a class="anchor" aria-label="anchor" href="#report-of-duplicates"></a>
</h2>
<p>The <code>report of duplciates</code> provides information about
duplicate observations in a dataset and how they are interpreted. It
consists of three components: <code>copies</code>,
<code>observations</code>, and <code>surplus.</code></p>
<ul>
<li>
<code>Copies</code>: The copies column indicates the number of times
a set of observations is duplicated. In other words, it shows the number
of identical rows present in the dataset.</li>
<li>
<code>Observations</code>: The observations column represents the
total count of unique observations in the dataset, including both
original and duplicated rows.</li>
<li>
<code>Surplus</code>: The surplus column denotes the number of
additional observations beyond the first occurrence of each duplicated
set. It indicates the number of duplicate rows excluding the original
row.</li>
</ul>
<p>To interpret the duplicates report in the context of the
<code>tag_duplicates</code> R function, consider the following:</p>
<ul>
<li>
<code>Copies</code>: If the copies value is 1, it means there are no
duplicates for that specific set of variables. If it is greater than 1,
it indicates the number of duplicate sets present.</li>
<li>
<code>Observations</code>: The observations count includes all
unique rows in the dataset, including both original and duplicate rows.
This count helps identify the total number of distinct
observations.</li>
<li>
<code>Surplus</code>: The surplus value represents the number of
duplicate rows beyond the first occurrence of each set. These surplus
rows need to be further examined or potentially removed.</li>
</ul>
<p>By analyzing the duplicates report, you can identify which variables
or combinations of variables are causing duplicates in the dataset. This
information can guide further investigation or data cleaning steps to
handle duplicate observations appropriately.</p>
</div>
<div class="section level2">
<h2 id="appended-columns--n_--n_-and--dup_">Appended columns: <code>.n_</code>, <code>.N_</code>, and
<code>.dup_</code><a class="anchor" aria-label="anchor" href="#appended-columns--n_--n_-and--dup_"></a>
</h2>
<p>When using the tag_duplicates function in R, the function returns
three columns: <code>.n_</code>, <code>.N_</code>, and
<code>.dup_</code>. Here’s an explanation of how to interpret these
columns:</p>
<div class="section level3">
<h3 id="n_">
<code>.n_</code><a class="anchor" aria-label="anchor" href="#n_"></a>
</h3>
<p>The <code>.n_</code> column represents the count of each observation
in the dataset, including duplicates. It indicates the number of times
each row appears in the dataset, regardless of whether it is a duplicate
or unique. For unique observations, the value in this column will be 1.
If an observation is duplicated multiple times, the value will be
greater than 1. Interpretation of <code>.n_</code>:</p>
<p>If <code>.n_</code> equals 1, it means the observation is unique and
does not have any duplicates in the dataset. If <code>.n_</code> is
greater than 1, it indicates that the observation is duplicated and
appears multiple times in the dataset.</p>
</div>
<div class="section level3">
<h3 id="n_-1">
<code>.N_</code><a class="anchor" aria-label="anchor" href="#n_-1"></a>
</h3>
<p>The <code>.N_</code> column represents the count of unique
observations. It provides the number of unique occurrences for each
observation in the dataset, considering both duplicates and unique rows.
Each row in the dataset is assigned the count of its unique occurrence.
Interpretation of <code>.N_</code>:</p>
<p>The <code>.N_</code> column helps identify the total number of unique
occurrences for each observation in the dataset, regardless of whether
it is a duplicate or unique. If <code>.N_</code> equals 1, it means the
observation is unique and has only one occurrence in the dataset. If
<code>.N_</code> is greater than 1, it indicates that the observation
has duplicates and appears multiple times in the dataset.</p>
</div>
<div class="section level3">
<h3 id="dup_">
<code>.dup_</code><a class="anchor" aria-label="anchor" href="#dup_"></a>
</h3>
<p>The <code>.dup_</code> column is a logical indicator that flags
whether an observation is a duplicate or not. It assigns a value of
<code>TRUE</code> if the observation is a duplicate and FALSE if it is
unique. Interpretation of <code>.dup_</code>:</p>
<p>If <code>.dup_</code> is <code>TRUE</code>, it means the observation
is a duplicate and appears multiple times in the dataset. If
<code>.dup_</code> is <code>FALSE</code>, it indicates that the
observation is unique and does not have any duplicates.</p>
<p>By examining these three columns together, you can determine which
observations in your dataset are duplicates, how many times they occur,
and whether an observation is unique or duplicated. This information can
be valuable for further data analysis, quality control, or data cleaning
processes.</p>
</div>
</div>
<div class="section level2">
<h2 id="ucla-stata-duplicates-tutorial-in-r">UCLA STATA duplicates Tutorial in R<a class="anchor" aria-label="anchor" href="#ucla-stata-duplicates-tutorial-in-r"></a>
</h2>
<p>Read more about the tutorial here: <a href="https://stats.oarc.ucla.edu/stata/faq/how-can-i-detect-duplicate-observations-3/" class="external-link uri">https://stats.oarc.ucla.edu/stata/faq/how-can-i-detect-duplicate-observations-3/</a></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hsb2</span> <span class="op">&lt;-</span> <span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_dta.html" class="external-link">read_dta</a></span><span class="op">(</span><span class="st">"https://stats.idre.ucla.edu/stat/stata/notes/hsb2.dta"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hsb2_mod</span> <span class="op">&lt;-</span> <span class="va">hsb2</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">female</span>, <span class="va">ses</span>, <span class="va">read</span>, <span class="va">write</span>, <span class="va">math</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hsb2_mod2</span> <span class="op">&lt;-</span> <span class="va">hsb2_mod</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">hsb2_mod</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>math <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="fl">84</span>, <span class="va">math</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hsb2_mod2</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">all variables</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1          197       0</span></span>
<span><span class="co">#&gt;       2            8       4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 205 × 9</span></span></span>
<span><span class="co">#&gt;       id female     ses         read write  math   .n_   .N_ .dup_</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       34    44    84     1     1 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       34    44    40     1     1 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     2 1<span style="color: #949494;"> [female]</span> 2<span style="color: #949494;"> [middle]</span>    39    41    33     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     2 1<span style="color: #949494;"> [female]</span> 2<span style="color: #949494;"> [middle]</span>    39    41    33     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     3 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       63    65    48     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     3 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       63    65    48     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     4 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       44    50    41     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     4 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       44    50    41     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     5 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       47    40    43     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     5 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       47    40    43     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 195 more rows</span></span></span>
<span></span>
<span><span class="va">hsb2_mod2</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">id</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1          195       0</span></span>
<span><span class="co">#&gt;       2           10       5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 205 × 9</span></span></span>
<span><span class="co">#&gt;       id female     ses         read write  math   .n_   .N_ .dup_</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       34    44    84     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       34    44    40     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     2 1<span style="color: #949494;"> [female]</span> 2<span style="color: #949494;"> [middle]</span>    39    41    33     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     2 1<span style="color: #949494;"> [female]</span> 2<span style="color: #949494;"> [middle]</span>    39    41    33     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     3 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       63    65    48     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     3 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       63    65    48     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     4 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       44    50    41     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     4 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       44    50    41     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     5 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       47    40    43     1     2 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     5 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       47    40    43     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 195 more rows</span></span></span>
<span></span>
<span><span class="va">hsb2_mod2</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="../reference/tag_duplicates.html">tag_duplicates</a></span><span class="op">(</span><span class="va">id</span>, .add_tags <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="co"># filter duplicate observations </span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.dup_</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">$ </span><span style="color: #BB00BB; font-weight: bold;">Report of duplicates</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB00BB;">  in terms of </span><span style="color: #BB00BB; font-style: italic;">id</span></span></span>
<span><span class="co">#&gt;  copies observations surplus</span></span>
<span><span class="co">#&gt;       1          195       0</span></span>
<span><span class="co">#&gt;       2           10       5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 9</span></span></span>
<span><span class="co">#&gt;      id female     ses         read write  math   .n_   .N_ .dup_</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       34    44    40     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 1<span style="color: #949494;"> [female]</span> 2<span style="color: #949494;"> [middle]</span>    39    41    33     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       63    65    48     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4 1<span style="color: #949494;"> [female]</span> 1<span style="color: #949494;"> [low]</span>       44    50    41     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5 0<span style="color: #949494;"> [male]</span>   1<span style="color: #949494;"> [low]</span>       47    40    43     2     2 TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reference">
<code>Reference</code><a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>StataCorp. (2021). Stata Base Reference Manual: Duplicates. Retrieved
from Stata Press: <a href="https://www.stata.com/manuals/rbase/duplicates.pdf" class="external-link uri">https://www.stata.com/manuals/rbase/duplicates.pdf</a></p>
<p>You can read more about it from the Stata Base Reference Manual,
which contains detailed information about the duplicates command,
through the Stata Press website or by searching for “Stata duplicates
command” online.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Myo Minn Oo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
